// Gmsh project created on Mon Oct 03 18:34:23 2022
//SetFactory("OpenCASCADE");
//+
//+
Point(1) = {1, 0.0604, 0, 1};
Point(2) = {0.999605, 0.0605784, 0, 1};
Point(3) = {0.998419, 0.0610433, 0, 1};
Point(4) = {0.996446, 0.0616005, 0, 1};
Point(5) = {0.993688, 0.0619795, 0, 1};
Point(6) = {0.990149, 0.0619138, 0, 1};
Point(7) = {0.985835, 0.0612488, 0, 1};
Point(8) = {0.980752, 0.0600775, 0, 1};
Point(9) = {0.97491, 0.058799, 0, 1};
Point(10) = {0.968317, 0.0575758, 0, 1};
Point(11) = {0.960983, 0.0563594, 0, 1};
Point(12) = {0.95292, 0.0550487, 0, 1};
Point(13) = {0.944141, 0.0536418, 0, 1};
Point(14) = {0.93466, 0.0522031, 0, 1};
Point(15) = {0.924492, 0.0507849, 0, 1};
Point(16) = {0.913652, 0.0494166, 0, 1};
Point(17) = {0.902158, 0.0481248, 0, 1};
Point(18) = {0.890029, 0.0469341, 0, 1};
Point(19) = {0.877282, 0.0458759, 0, 1};
Point(20) = {0.863939, 0.0449858, 0, 1};
Point(21) = {0.850021, 0.0443008, 0, 1};
Point(22) = {0.835549, 0.043855, 0, 1};
Point(23) = {0.820547, 0.0436621, 0, 1};
Point(24) = {0.805038, 0.0437259, 0, 1};
Point(25) = {0.789046, 0.0440436, 0, 1};
Point(26) = {0.772597, 0.0445904, 0, 1};
Point(27) = {0.755718, 0.0453233, 0, 1};
Point(28) = {0.738434, 0.0461889, 0, 1};
Point(29) = {0.720773, 0.0471253, 0, 1};
Point(30) = {0.702763, 0.0480625, 0, 1};
Point(31) = {0.684432, 0.0489309, 0, 1};
Point(32) = {0.66581, 0.0497114, 0, 1};
Point(33) = {0.646925, 0.0504071, 0, 1};
Point(34) = {0.627808, 0.0510246, 0, 1};
Point(35) = {0.608489, 0.0515775, 0, 1};
Point(36) = {0.588999, 0.0520806, 0, 1};
Point(37) = {0.569368, 0.0525307, 0, 1};
Point(38) = {0.549627, 0.052908, 0, 1};
Point(39) = {0.529808, 0.053199, 0, 1};
Point(40) = {0.509941, 0.0534152, 0, 1};
Point(41) = {0.490059, 0.0535737, 0, 1};
Point(42) = {0.470192, 0.0536746, 0, 1};
Point(43) = {0.450373, 0.0537003, 0, 1};
Point(44) = {0.430632, 0.053639, 0, 1};
Point(45) = {0.411001, 0.0535024, 0, 1};
Point(46) = {0.391511, 0.0533079, 0, 1};
Point(47) = {0.372192, 0.0530609, 0, 1};
Point(48) = {0.353075, 0.052754, 0, 1};
Point(49) = {0.33419, 0.05238, 0, 1};
Point(50) = {0.315568, 0.0519341, 0, 1};
Point(51) = {0.297237, 0.051413, 0, 1};
Point(52) = {0.279227, 0.0508255, 0, 1};
Point(53) = {0.261566, 0.0502075, 0, 1};
Point(54) = {0.244282, 0.0495947, 0, 1};
Point(55) = {0.227403, 0.0489997, 0, 1};
Point(56) = {0.210954, 0.0484056, 0, 1};
Point(57) = {0.194962, 0.0477958, 0, 1};
Point(58) = {0.179453, 0.0471692, 0, 1};
Point(59) = {0.164451, 0.0465119, 0, 1};
Point(60) = {0.149979, 0.0457238, 0, 1};
Point(61) = {0.136061, 0.0448191, 0, 1};
Point(62) = {0.122718, 0.0438133, 0, 1};
Point(63) = {0.109971, 0.0426546, 0, 1};
Point(64) = {0.0978417, 0.0414712, 0, 1};
Point(65) = {0.086348, 0.0402678, 0, 1};
Point(66) = {0.0755083, 0.0388983, 0, 1};
Point(67) = {0.0653399, 0.0376177, 0, 1};
Point(68) = {0.0558587, 0.0362163, 0, 1};
Point(69) = {0.0470798, 0.0349255, 0, 1};
Point(70) = {0.0390171, 0.0336265, 0, 1};
Point(71) = {0.0316833, 0.0324608, 0, 1};
Point(72) = {0.0250899, 0.0312981, 0, 1};
Point(73) = {0.0192475, 0.0296216, 0, 1};
Point(74) = {0.0141653, 0.026429, 0, 1};
Point(75) = {0.00985132, 0.0229857, 0, 1};
Point(76) = {0.00631233, 0.0191972, 0, 1};
Point(77) = {0.00355396, 0.0142819, 0, 1};
Point(78) = {0.00158058, 0.00992171, 0, 1};
Point(79) = {0.000395301, 0.00402408, 0, 1};
Point(80) = {0, 0, 0, 1};
Point(81) = {0.000395301, -0.00382523, 0, 1};
Point(82) = {0.00158058, -0.00966363, 0, 1};
Point(83) = {0.00355396, -0.0141751, 0, 1};
Point(84) = {0.00631233, -0.0189984, 0, 1};
Point(85) = {0.00985132, -0.0227577, 0, 1};
Point(86) = {0.0141653, -0.0261142, 0, 1};
Point(87) = {0.0192475, -0.0290608, 0, 1};
Point(88) = {0.0250899, -0.0320986, 0, 1};
Point(89) = {0.0316833, -0.0354145, 0, 1};
Point(90) = {0.0390171, -0.0389275, 0, 1};
Point(91) = {0.0470798, -0.0426075, 0, 1};
Point(92) = {0.0558587, -0.0464556, 0, 1};
Point(93) = {0.0653399, -0.0502913, 0, 1};
Point(94) = {0.0755083, -0.0541613, 0, 1};
Point(95) = {0.086348, -0.0579993, 0, 1};
Point(96) = {0.0978417, -0.0616434, 0, 1};
Point(97) = {0.109971, -0.0651169, 0, 1};
Point(98) = {0.122718, -0.0683089, 0, 1};
Point(99) = {0.136061, -0.0711266, 0, 1};
Point(100) = {0.149979, -0.0736086, 0, 1};
Point(101) = {0.164451, -0.0755747, 0, 1};
Point(102) = {0.179453, -0.0768899, 0, 1};
Point(103) = {0.194962, -0.0776846, 0, 1};
Point(104) = {0.210954, -0.0778244, 0, 1};
Point(105) = {0.227403, -0.0773511, 0, 1};
Point(106) = {0.244282, -0.0764985, 0, 1};
Point(107) = {0.261566, -0.0755273, 0, 1};
Point(108) = {0.279227, -0.0745046, 0, 1};
Point(109) = {0.297237, -0.0733613, 0, 1};
Point(110) = {0.315568, -0.072032, 0, 1};
Point(111) = {0.33419, -0.0705279, 0, 1};
Point(112) = {0.353075, -0.0688931, 0, 1};
Point(113) = {0.372192, -0.0671575, 0, 1};
Point(114) = {0.391511, -0.0653079, 0, 1};
Point(115) = {0.411001, -0.0633244, 0, 1};
Point(116) = {0.430632, -0.0611936, 0, 1};
Point(117) = {0.450373, -0.0589077, 0, 1};
Point(118) = {0.470192, -0.0564646, 0, 1};
Point(119) = {0.490059, -0.0538821, 0, 1};
Point(120) = {0.509941, -0.0511821, 0, 1};
Point(121) = {0.529808, -0.048365, 0, 1};
Point(122) = {0.549627, -0.0454112, 0, 1};
Point(123) = {0.569368, -0.0423111, 0, 1};
Point(124) = {0.588999, -0.039096, 0, 1};
Point(125) = {0.608489, -0.035806, 0, 1};
Point(126) = {0.627808, -0.0324515, 0, 1};
Point(127) = {0.646925, -0.0290112, 0, 1};
Point(128) = {0.66581, -0.0254699, 0, 1};
Point(129) = {0.684432, -0.0218487, 0, 1};
Point(130) = {0.702763, -0.018181, 0, 1};
Point(131) = {0.720773, -0.0144874, 0, 1};
Point(132) = {0.738434, -0.0107618, 0, 1};
Point(133) = {0.755718, -0.00699652, 0, 1};
Point(134) = {0.772597, -0.00320282, 0, 1};
Point(135) = {0.789046, 0.000585036, 0, 1};
Point(136) = {0.805038, 0.00433399, 0, 1};
Point(137) = {0.820547, 0.00802701, 0, 1};
Point(138) = {0.835549, 0.011667, 0, 1};
Point(139) = {0.850021, 0.0152554, 0, 1};
Point(140) = {0.863939, 0.0187866, 0, 1};
Point(141) = {0.877282, 0.0222372, 0, 1};
Point(142) = {0.890029, 0.0255826, 0, 1};
Point(143) = {0.902158, 0.0288016, 0, 1};
Point(144) = {0.913652, 0.0318906, 0, 1};
Point(145) = {0.924492, 0.034874, 0, 1};
Point(146) = {0.93466, 0.0377273, 0, 1};
Point(147) = {0.944141, 0.0403881, 0, 1};
Point(148) = {0.95292, 0.0428671, 0, 1};
Point(149) = {0.960983, 0.0452231, 0, 1};
Point(150) = {0.968317, 0.0474328, 0, 1};
Point(151) = {0.97491, 0.0493574, 0, 1};
Point(152) = {0.980752, 0.0509158, 0, 1};
Point(153) = {0.985835, 0.0522553, 0, 1};
Point(154) = {0.990149, 0.0537617, 0, 1};
Point(155) = {0.993688, 0.0555086, 0, 1};
Point(156) = {0.996446, 0.0573218, 0, 1};
Point(157) = {0.998419, 0.0589173, 0, 1};
Point(158) = {0.999605, 0.060011, 0, 1};

Line(1) = {1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,1};
//+

//+ Domain sizing 
dy = 0.015;
h = 0.134 - dy;
inlet_h = 3;
inlet_dist = 1.5;
length = 8;

//+ Multi-block structure
x0 = -0.1;
x1 = 1;
x2 = 1.75;
r = 0.2;

y0 = 0.2;
y1 = 0.064;
y2 = y0;
y3 = 0.6;

//+ Refinement
nVert = 42;

//+
Point(160) = {-inlet_dist, inlet_h - h, 0, 1.0};
//+
Point(161) = {-inlet_dist, -0.08, 0, 1.0};
//+
Point(162) = {length - inlet_dist, -0.07, 0, 1.0};
//+
Point(163) = {length - inlet_dist, inlet_h - h, 0, 1.0};
//+
/*
Point(168) = {x0, h, 0, 1.0};
//+
Point(169) = {x0, -h, 0, 1.0};
//+
Point(170) = {x1, y0, 0, 1.0};
//+
Point(171) = {x1, -h, 0, 1.0};
//+
Point(172) = {x0, inlet_h - h, 0, 1.0};
//+
Point(173) = {x1, inlet_h - h, 0, 1.0};
//+
Point(174) = {-inlet_dist, h, 0, 1.0};
//+
Point(176) = {length - inlet_dist, y2, 0, 1.0};
//+
Point(177) = {x2, -h, 0, 1.0};
//+
Point(178) = {x2, y2, 0, 1.0};
//+
Point(179) = {x2, y1, 0, 1.0};
//+
Point(180) = {x2, inlet_h - h, 0, 1.0};
//+
Point(181) = {length - inlet_dist, y1, 0, 1.0};
//+
Point(182) = {0.2109, -h, 0, 1.0};
//+
Point(183) = {-inlet_dist, y3, 0, 1.0};
//+
Point(184) = {x0, y3, 0, 1.0};
//+
Point(185) = {x1, y3, 0, 1.0};
//+
Point(186) = {x2, y3, 0, 1.0};
//+
Point(187) = {length - inlet_dist, y3, 0, 1.0};
//+
Point(188) = {- inlet_dist, 0, 0, 1.0};
//+
*/

Point(189) = {-inlet_dist, -(h+dy), 0, 1.0};
Point(190) = {0.2109, -(h+dy), 0, 1.0};
Point(191) = {0.2109, -0.1, 0, 1.0};
Point(192) = {x1, -(h+dy), 0, 1.0};
Point(193) = {x2, -(h+dy), 0, 1.0};
Point(194) = {length - inlet_dist, -(h+dy), 0, 1.0};
Point(195) = {- inlet_dist, 0.05, 0, 1.0};
//+
Split Curve {1} Point {80, 72};
//+
Dilate {{0.1, 0, 0}, {1.8, 2.5, 1}} {
  Duplicata { Curve{2}; }
}
//+
Split Curve {3} Point {88};
//+
Dilate {{0.1, 0., 0}, {1.8, 2.5, 1.5}} {
  Duplicata { Curve{5}; }
}
//+
Line(9) = {80, 204};
//+
Line(10) = {88, 213};
//+
Line(11) = {213, 191};
//+
Line(12) = {161, 213};

Translate {0.012, 0.02, 0} {Point{196}; }
Translate {0.003, 0.005, 0} {Point{197}; }
Translate {-0.001, -0.005, 0} {Point{213}; }
Translate {-0.002, -0.001, 0} {Point{212}; }
Translate {-0.0002, -0.0001, 0} {Point{211}; }

Point(214) = {- 0.02, -(h+dy), 0, 1.0};
Point(215) = {x1, -0.07, 0, 1.0};
Point(216) = {x2, -0.07, 0, 1.0};
Point(217) = {x1, 0.15, 0, 1.0};
Point(218) = {x2, 0.2, 0, 1.0};
Point(219) = {length - inlet_dist, 0.35, 0, 1.0};
Point(220) = { - inlet_dist, 0.25, 0, 1.0};
Point(221) = {0.2, inlet_h - h, 0, 1.0};
Point(222) = { x1 + 0.2 , inlet_h - h, 0, 1.0};
Point(223) = {x1, 0.06, 0, 1.0};
Point(224) = {x2, 0.06, 0, 1.0};
Point(225) = {length - inlet_dist, 0.1, 0, 1.0};
Point(226) = {x2 + 0.2, inlet_h - h, 0, 1.0};
//+
Line(13) = {191, 215};
//+
Line(14) = {215, 216};
//+
Line(15) = {216, 162};
//+
Line(16) = {189, 214};
//+
Line(17) = {214, 190};
//+
Line(18) = {190, 192};
//+
Line(19) = {192, 193};
//+
Line(20) = {193, 194};
//+
Line(21) = {72, 196};
//+
Line(22) = {204, 195};
//+
Line(23) = {220, 196};
//+
Line(24) = {196, 217};
//+
Line(25) = {217, 218};
//+
Line(26) = {218, 219};
//+
Line(27) = {160, 221};
//+
Line(28) = {221, 222};
//+
Line(29) = {222, 226};
//+
Line(30) = {1, 224};
//+
Line(32) = {224, 225};
//+
Line(33) = {189, 161};
//+
Line(34) = {161, 195};
//+
Line(35) = {195, 220};
//+
Line(36) = {220, 160};
//+
Line(37) = {196, 221};
//+
Line(38) = {217, 222};
//+
Line(39) = {1, 217};
//+
Line(40) = {1, 215};
//+
Line(41) = {104, 191};
//+
Line(42) = {224, 218};
//+
Line(43) = {224, 216};
//+
Line(44) = {225, 219};
//+
Line(45) = {225, 162};
//+
Line(46) = {219, 163};
//+
Line(47) = {214, 213};
//+
Line(48) = {190, 191};
//+
Line(49) = {192, 215};
//+
Line(50) = {193, 216};
//+
Line(51) = {194, 162};
//+
Line(55) = {226, 163};
//+
Line(56) = {218, 226};

//+

//+
Curve Loop(1) = {23, 37, -27, -36};
//+
Plane Surface(1) = {1};
//+
Curve Loop(2) = {35, 23, 4, 22};
//+
Plane Surface(2) = {2};
//+
Curve Loop(3) = {22, -34, 12, -7};
//+
Plane Surface(3) = {3};
//+
Curve Loop(4) = {12, -47, -16, 33};
//+
Plane Surface(4) = {4};
//+
Curve Loop(5) = {10, -7, -9, 5};
//+
Plane Surface(5) = {5};
//+
Curve Loop(6) = {4, -9, -2, 21};
//+
Plane Surface(6) = {6};
//+
Split Curve {6} Point {104, 1};
//+
Curve Loop(7) = {57, 41, -11, -10};
//+
Plane Surface(7) = {7};
//+
Curve Loop(8) = {47, 11, -48, -17};
//+
Plane Surface(8) = {8};
//+
Curve Loop(9) = {41, 13, -40, -58};
//+
Plane Surface(9) = {9};
//+
Curve Loop(10) = {24, -39, 59, 21};
//+
Plane Surface(10) = {10};
//+
Curve Loop(11) = {13, -49, -18, 48};
//+
Plane Surface(11) = {11};
//+
Curve Loop(12) = {24, 38, -28, -37};
//+
Plane Surface(12) = {12};
//+
Curve Loop(13) = {29, -56, -25, 38};
//+
Plane Surface(13) = {13};
//+
Curve Loop(14) = {25, -42, -30, 39};
//+
Plane Surface(14) = {14};
//+
Curve Loop(15) = {43, -14, -40, 30};
//+
Plane Surface(15) = {15};
//+
Curve Loop(16) = {14, -50, -19, 49};
//+
Plane Surface(16) = {16};
//+
Curve Loop(17) = {15, -45, -32, 43};
//+
Plane Surface(17) = {17};
//+
Curve Loop(18) = {26, -44, -32, 42};
//+
Plane Surface(18) = {18};
//+
Curve Loop(19) = {15, -51, -20, 50};
//+
Plane Surface(19) = {19};
//+
Curve Loop(20) = {26, 46, -55, -56};
//+
Plane Surface(20) = {20};
//+

nHInlet = 282;
nVLE = 112;
nVAirfoil = 186;
//+
prHInlet = 1.008;
prVLEBottom = 1.01;


//+
Transfinite Curve {16, 12, 23, 27} = nHInlet Using Progression 1/prHInlet;
//+
Transfinite Curve {22} = nHInlet Using Progression prHInlet;
//+
Transfinite Curve {17, 11} = 180 Using Progression 1;
//+
Transfinite Curve {57} = 180 Using Progression 1.005;
//+
Transfinite Curve {18, 13, 58} = 482 Using Progression 1;
//+
Transfinite Curve {24, 28} = 822 Using Progression 1;
//+
Transfinite Curve {59} = 822 Using Bump 1/2;
//+
Transfinite Curve {9, 21, 10, 39, 40, 41} = nVAirfoil Using Progression 1.01;
//+
Transfinite Curve {42, 43, 44, 45} = nVAirfoil Using Progression 1;
//+
Transfinite Curve {19, 14, 30, 25, 29} = 152 Using Progression 1.015;
//+
Transfinite Curve {20, 15, 32, 26, 55} = 342 Using Progression 1;
//+
Transfinite Curve {37, 38, 56} = 200 Using Progression 1.02;
//+
Transfinite Curve {36} = 200 Using Progression 1.01;
//+
Transfinite Curve {46} = 200 Using Progression 1.01;
//+
Transfinite Curve {35, 4, 2} = nVLE Using Progression 1;
//+
Transfinite Curve {34} = nVLE Using Progression prVLEBottom;
//+
Transfinite Curve {7, 5} = nVLE Using Progression 1/prVLEBottom;
//+
Transfinite Curve {33, 47, 48, 49, 50, 51} = 164 Using Progression 1.005;

Transfinite Surface "*";
//+
Recombine Surface {1, 12, 13, 20, 2, 3, 4, 8, 7, 5, 6, 10, 9, 11, 15, 14, 16, 19, 17, 18};
//+


//+
Extrude {0, 0, -1} {
  Surface{1}; Surface{2}; Surface{3}; Surface{4}; Surface{5}; Surface{6}; Surface{7}; Surface{10}; Surface{8}; Surface{12}; Surface{13}; Surface{14}; Surface{15}; Surface{9}; Surface{11}; Surface{16}; Surface{20}; Surface{18}; Surface{17}; Surface{19}; Layers {1}; Recombine;
}
//+
Physical Volume("Fluid", 500) = {6, 5, 7, 9, 2, 3, 4, 1, 10, 11, 8, 14, 15, 12, 13, 16, 17, 18, 19, 20};
//+
Physical Surface("Inlet", 501) = {80, 90, 116, 146};
//+
Physical Surface("Top", 502) = {428, 288, 274, 76};
//+
Physical Surface("Outlet", 503) = {424, 446, 468, 490};
//+
Physical Surface("Floor", 504) = {142, 256, 384, 406, 494};
//+
Physical Surface("Side", 505) = {1, 12, 13, 20, 2, 3, 4, 8, 7, 5, 6, 10, 11, 9, 15, 16, 14, 18, 17, 19, 433, 455, 477, 499, 301, 279, 81, 103, 125, 147, 169, 191, 213, 257, 389, 367, 235, 323, 345, 411};
//+
Physical Surface("Airfoil", 506) = {230, 366, 186, 200, 168};
//+

