// Gmsh project created on Mon Oct 03 18:34:23 2022
//SetFactory("OpenCASCADE");
//+
//+
Point(1) = {1, 0.0604, 0, 1};
Point(2) = {0.999605, 0.0605784, 0, 1};
Point(3) = {0.998419, 0.0610433, 0, 1};
Point(4) = {0.996446, 0.0616005, 0, 1};
Point(5) = {0.993688, 0.0619795, 0, 1};
Point(6) = {0.990149, 0.0619138, 0, 1};
Point(7) = {0.985835, 0.0612488, 0, 1};
Point(8) = {0.980752, 0.0600775, 0, 1};
Point(9) = {0.97491, 0.058799, 0, 1};
Point(10) = {0.968317, 0.0575758, 0, 1};
Point(11) = {0.960983, 0.0563594, 0, 1};
Point(12) = {0.95292, 0.0550487, 0, 1};
Point(13) = {0.944141, 0.0536418, 0, 1};
Point(14) = {0.93466, 0.0522031, 0, 1};
Point(15) = {0.924492, 0.0507849, 0, 1};
Point(16) = {0.913652, 0.0494166, 0, 1};
Point(17) = {0.902158, 0.0481248, 0, 1};
Point(18) = {0.890029, 0.0469341, 0, 1};
Point(19) = {0.877282, 0.0458759, 0, 1};
Point(20) = {0.863939, 0.0449858, 0, 1};
Point(21) = {0.850021, 0.0443008, 0, 1};
Point(22) = {0.835549, 0.043855, 0, 1};
Point(23) = {0.820547, 0.0436621, 0, 1};
Point(24) = {0.805038, 0.0437259, 0, 1};
Point(25) = {0.789046, 0.0440436, 0, 1};
Point(26) = {0.772597, 0.0445904, 0, 1};
Point(27) = {0.755718, 0.0453233, 0, 1};
Point(28) = {0.738434, 0.0461889, 0, 1};
Point(29) = {0.720773, 0.0471253, 0, 1};
Point(30) = {0.702763, 0.0480625, 0, 1};
Point(31) = {0.684432, 0.0489309, 0, 1};
Point(32) = {0.66581, 0.0497114, 0, 1};
Point(33) = {0.646925, 0.0504071, 0, 1};
Point(34) = {0.627808, 0.0510246, 0, 1};
Point(35) = {0.608489, 0.0515775, 0, 1};
Point(36) = {0.588999, 0.0520806, 0, 1};
Point(37) = {0.569368, 0.0525307, 0, 1};
Point(38) = {0.549627, 0.052908, 0, 1};
Point(39) = {0.529808, 0.053199, 0, 1};
Point(40) = {0.509941, 0.0534152, 0, 1};
Point(41) = {0.490059, 0.0535737, 0, 1};
Point(42) = {0.470192, 0.0536746, 0, 1};
Point(43) = {0.450373, 0.0537003, 0, 1};
Point(44) = {0.430632, 0.053639, 0, 1};
Point(45) = {0.411001, 0.0535024, 0, 1};
Point(46) = {0.391511, 0.0533079, 0, 1};
Point(47) = {0.372192, 0.0530609, 0, 1};
Point(48) = {0.353075, 0.052754, 0, 1};
Point(49) = {0.33419, 0.05238, 0, 1};
Point(50) = {0.315568, 0.0519341, 0, 1};
Point(51) = {0.297237, 0.051413, 0, 1};
Point(52) = {0.279227, 0.0508255, 0, 1};
Point(53) = {0.261566, 0.0502075, 0, 1};
Point(54) = {0.244282, 0.0495947, 0, 1};
Point(55) = {0.227403, 0.0489997, 0, 1};
Point(56) = {0.210954, 0.0484056, 0, 1};
Point(57) = {0.194962, 0.0477958, 0, 1};
Point(58) = {0.179453, 0.0471692, 0, 1};
Point(59) = {0.164451, 0.0465119, 0, 1};
Point(60) = {0.149979, 0.0457238, 0, 1};
Point(61) = {0.136061, 0.0448191, 0, 1};
Point(62) = {0.122718, 0.0438133, 0, 1};
Point(63) = {0.109971, 0.0426546, 0, 1};
Point(64) = {0.0978417, 0.0414712, 0, 1};
Point(65) = {0.086348, 0.0402678, 0, 1};
Point(66) = {0.0755083, 0.0388983, 0, 1};
Point(67) = {0.0653399, 0.0376177, 0, 1};
Point(68) = {0.0558587, 0.0362163, 0, 1};
Point(69) = {0.0470798, 0.0349255, 0, 1};
Point(70) = {0.0390171, 0.0336265, 0, 1};
Point(71) = {0.0316833, 0.0324608, 0, 1};
Point(72) = {0.0250899, 0.0312981, 0, 1};
Point(73) = {0.0192475, 0.0296216, 0, 1};
Point(74) = {0.0141653, 0.026429, 0, 1};
Point(75) = {0.00985132, 0.0229857, 0, 1};
Point(76) = {0.00631233, 0.0191972, 0, 1};
Point(77) = {0.00355396, 0.0142819, 0, 1};
Point(78) = {0.00158058, 0.00992171, 0, 1};
Point(79) = {0.000395301, 0.00402408, 0, 1};
Point(80) = {0, 0, 0, 1};
Point(81) = {0.000395301, -0.00382523, 0, 1};
Point(82) = {0.00158058, -0.00966363, 0, 1};
Point(83) = {0.00355396, -0.0141751, 0, 1};
Point(84) = {0.00631233, -0.0189984, 0, 1};
Point(85) = {0.00985132, -0.0227577, 0, 1};
Point(86) = {0.0141653, -0.0261142, 0, 1};
Point(87) = {0.0192475, -0.0290608, 0, 1};
Point(88) = {0.0250899, -0.0320986, 0, 1};
Point(89) = {0.0316833, -0.0354145, 0, 1};
Point(90) = {0.0390171, -0.0389275, 0, 1};
Point(91) = {0.0470798, -0.0426075, 0, 1};
Point(92) = {0.0558587, -0.0464556, 0, 1};
Point(93) = {0.0653399, -0.0502913, 0, 1};
Point(94) = {0.0755083, -0.0541613, 0, 1};
Point(95) = {0.086348, -0.0579993, 0, 1};
Point(96) = {0.0978417, -0.0616434, 0, 1};
Point(97) = {0.109971, -0.0651169, 0, 1};
Point(98) = {0.122718, -0.0683089, 0, 1};
Point(99) = {0.136061, -0.0711266, 0, 1};
Point(100) = {0.149979, -0.0736086, 0, 1};
Point(101) = {0.164451, -0.0755747, 0, 1};
Point(102) = {0.179453, -0.0768899, 0, 1};
Point(103) = {0.194962, -0.0776846, 0, 1};
Point(104) = {0.210954, -0.0778244, 0, 1};
Point(105) = {0.227403, -0.0773511, 0, 1};
Point(106) = {0.244282, -0.0764985, 0, 1};
Point(107) = {0.261566, -0.0755273, 0, 1};
Point(108) = {0.279227, -0.0745046, 0, 1};
Point(109) = {0.297237, -0.0733613, 0, 1};
Point(110) = {0.315568, -0.072032, 0, 1};
Point(111) = {0.33419, -0.0705279, 0, 1};
Point(112) = {0.353075, -0.0688931, 0, 1};
Point(113) = {0.372192, -0.0671575, 0, 1};
Point(114) = {0.391511, -0.0653079, 0, 1};
Point(115) = {0.411001, -0.0633244, 0, 1};
Point(116) = {0.430632, -0.0611936, 0, 1};
Point(117) = {0.450373, -0.0589077, 0, 1};
Point(118) = {0.470192, -0.0564646, 0, 1};
Point(119) = {0.490059, -0.0538821, 0, 1};
Point(120) = {0.509941, -0.0511821, 0, 1};
Point(121) = {0.529808, -0.048365, 0, 1};
Point(122) = {0.549627, -0.0454112, 0, 1};
Point(123) = {0.569368, -0.0423111, 0, 1};
Point(124) = {0.588999, -0.039096, 0, 1};
Point(125) = {0.608489, -0.035806, 0, 1};
Point(126) = {0.627808, -0.0324515, 0, 1};
Point(127) = {0.646925, -0.0290112, 0, 1};
Point(128) = {0.66581, -0.0254699, 0, 1};
Point(129) = {0.684432, -0.0218487, 0, 1};
Point(130) = {0.702763, -0.018181, 0, 1};
Point(131) = {0.720773, -0.0144874, 0, 1};
Point(132) = {0.738434, -0.0107618, 0, 1};
Point(133) = {0.755718, -0.00699652, 0, 1};
Point(134) = {0.772597, -0.00320282, 0, 1};
Point(135) = {0.789046, 0.000585036, 0, 1};
Point(136) = {0.805038, 0.00433399, 0, 1};
Point(137) = {0.820547, 0.00802701, 0, 1};
Point(138) = {0.835549, 0.011667, 0, 1};
Point(139) = {0.850021, 0.0152554, 0, 1};
Point(140) = {0.863939, 0.0187866, 0, 1};
Point(141) = {0.877282, 0.0222372, 0, 1};
Point(142) = {0.890029, 0.0255826, 0, 1};
Point(143) = {0.902158, 0.0288016, 0, 1};
Point(144) = {0.913652, 0.0318906, 0, 1};
Point(145) = {0.924492, 0.034874, 0, 1};
Point(146) = {0.93466, 0.0377273, 0, 1};
Point(147) = {0.944141, 0.0403881, 0, 1};
Point(148) = {0.95292, 0.0428671, 0, 1};
Point(149) = {0.960983, 0.0452231, 0, 1};
Point(150) = {0.968317, 0.0474328, 0, 1};
Point(151) = {0.97491, 0.0493574, 0, 1};
Point(152) = {0.980752, 0.0509158, 0, 1};
Point(153) = {0.985835, 0.0522553, 0, 1};
Point(154) = {0.990149, 0.0537617, 0, 1};
Point(155) = {0.993688, 0.0555086, 0, 1};
Point(156) = {0.996446, 0.0573218, 0, 1};
Point(157) = {0.998419, 0.0589173, 0, 1};
Point(158) = {0.999605, 0.060011, 0, 1};

Line(1) = {1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,1};
//+

//+ Domain sizing 
h = 3.36;
inlet_h = h*2;
inlet_dist = 4;
length = 15;

//+ Multi-block structure
x0 = -0.25;
x1 = 1.25;
x2 = 3;

y0 = 0.3;
y1 = 0.0604;
y2 = 0.5;

//+ Refinement
nVert = 42;
nLE = 16;
nHoriInlet = 32;
nHoriAirfoil = 46;
nVertWake = 32;
nHoriWake = 26;
nHoriFarField = 84;


//+
Point(160) = {-inlet_dist, inlet_h - h, 0, 1.0};
//+
Point(161) = {-inlet_dist, -h, 0, 1.0};
//+
Point(162) = {length - inlet_dist, -h, 0, 1.0};
//+
Point(163) = {length - inlet_dist, inlet_h - h, 0, 1.0};
//+
Point(164) = {x0, y0, 0, 1.0};
//+
Point(165) = {x0, -y0, 0, 1.0};
//+
Point(166) = {x1, y0 + y1, 0, 1.0};
//+
Point(167) = {x1, -y0 + y1, 0, 1.0};
//+
Point(168) = {x0, inlet_h - h, 0, 1.0};
//+
Point(169) = {x1, inlet_h - h, 0, 1.0};
//+
Point(170) = {x0, -h, 0, 1.0};
//+
Point(171) = {x1, -h, 0, 1.0};
//+
Point(172) = {-inlet_dist, y0, 0, 1.0};
//+
Point(173) = {-inlet_dist, -y0, 0, 1.0};
//+
Point(174) = {length - inlet_dist, y2+y1, 0, 1.0};
//+
Point(175) = {length - inlet_dist, -y2+y1, 0, 1.0};
//+
Point(176) = {x2, y2+y1, 0, 1.0};
//+
Point(177) = {x2, -y2+y1, 0, 1.0};
//+
Point(178) = {x2, inlet_h - h, 0, 1.0};
//+
Point(179) = {x2, -h, 0, 1.0};
//+
Point(180) = {x2, y1, 0, 1.0};
//+
Point(181) = {length - inlet_dist, y1, 0, 1.0};


//+
Circle(2) = {165, 80, 164};
//+
Line(3) = {160, 168};
//+
Line(4) = {168, 169};
//+
Line(5) = {169, 178};
//+
Line(6) = {178, 163};
//+
Line(7) = {172, 164};
//+
Line(8) = {164, 166};
//+
Line(9) = {166, 176};
//+
Line(10) = {176, 174};
//+
Line(11) = {173, 165};
//+
Line(12) = {165, 167};
//+
Line(13) = {167, 177};
//+
Line(14) = {177, 175};
//+
Line(15) = {161, 170};
//+
Line(16) = {170, 171};
//+
Line(17) = {171, 179};
//+
Line(18) = {179, 162};
//+
Line(19) = {1, 180};
//+
Line(20) = {180, 181};
//+
Line(21) = {173, 172};
//+
Line(22) = {172, 160};
//+
Line(23) = {173, 161};
//+
Line(24) = {164, 168};
//+
Line(25) = {165, 170};
//+
Line(26) = {166, 169};
//+
Line(27) = {167, 171};
//+
Line(28) = {176, 178};
//+
Line(29) = {177, 179};
//+
Line(30) = {174, 163};
//+
Line(31) = {175, 162};
//+
Line(32) = {181, 174};
//+
Line(33) = {181, 175};
//+
Line(34) = {1, 166};
//+
Line(35) = {1, 167};
//+
Line(36) = {180, 176};
//+
Line(37) = {180, 177};
//+
Line(38) = {72, 164};
//+
Line(39) = {88, 165};

//+
Split Curve {1} Point {72, 88, 1};
//+
Curve Loop(1) = {7, 24, -3, -22};
//+
Plane Surface(1) = {1};
//+
Curve Loop(2) = {7, -2, -11, 21};
//+
Plane Surface(2) = {2};
//+
Curve Loop(3) = {11, 25, -15, -23};
//+
Plane Surface(3) = {3};
//+
Curve Loop(4) = {4, -26, -8, 24};
//+
Plane Surface(4) = {4};
//+
Curve Loop(5) = {38, -2, -39, -40};
//+
Plane Surface(5) = {5};
//+
Curve Loop(6) = {38, 8, -34, 42};
//+
Plane Surface(6) = {6};
//+
Curve Loop(7) = {41, 35, -12, -39};
//+
Plane Surface(7) = {7};
//+
Curve Loop(8) = {27, -16, -25, 12};
//+
Plane Surface(8) = {8};
//+
Curve Loop(9) = {27, 17, -29, -13};
//+
Plane Surface(9) = {9};
//+
Curve Loop(10) = {19, 37, -13, -35};
//+
Plane Surface(10) = {10};
//+
Curve Loop(11) = {36, -9, -34, 19};
//+
Plane Surface(11) = {11};
//+
Curve Loop(12) = {26, 5, -28, -9};
//+
Plane Surface(12) = {12};
//+
Curve Loop(13) = {6, -30, -10, 28};
//+
Plane Surface(13) = {13};
//+
Curve Loop(14) = {20, 32, -10, -36};
//+
Plane Surface(14) = {14};
//+
Curve Loop(15) = {33, -14, -37, 20};
//+
Plane Surface(15) = {15};
//+
Curve Loop(16) = {29, 18, -31, -14};
//+
Plane Surface(16) = {16};
//+
Transfinite Surface {1};
//+
Transfinite Surface {2};
//+
Transfinite Surface {3};
//+
Transfinite Surface {4};
//+
Transfinite Surface {6};
//+
Transfinite Surface {5};
//+
Transfinite Surface {7};
//+
Transfinite Surface {8};
//+
Transfinite Surface {12};
//+
Transfinite Surface {11};
//+
Transfinite Surface {10};
//+
Transfinite Surface {9};
//+
Transfinite Surface {13};
//+
Transfinite Surface {14};
//+
Transfinite Surface {15};
//+
Transfinite Surface {16};

//+
Transfinite Curve {22, 24, 26, 28, 30, 23, 25, 27, 29, 31} = nVert Using Progression 1; //Vertical far field
//+
Transfinite Curve {21, 2, 40} = nLE Using Progression 1; //Vertical leading edge
//+
Transfinite Curve {38, 39, 34, 35} = nVertWake Using Progression 1.08; //Vertical airfoil
//+
Transfinite Curve {36, 37, 33, 32} = nVertWake Using Progression 1; //Vertical airfoil
//+
Transfinite Curve {15, 11, 7, 3} = nHoriInlet Using Progression 0.95; //Horizontal inlet
//+
Transfinite Curve {16, 12, 41, 42, 8, 4} = nHoriAirfoil Using Progression 1; //Horizontal airfoil
//+
Transfinite Curve {17, 13, 19, 9, 5} = nHoriWake Using Progression 1.05;//Horizontal wake

//+
Transfinite Curve {18, 14, 20, 10, 6} = nHoriFarField Using Progression 1; //Horizontal far field wake
//+
Recombine Surface {1, 2, 3, 8, 5, 7, 6, 4, 12, 11, 10, 9, 15, 14, 16, 13};
//+
Extrude {0, 0, 1} {
  Surface{1}; Surface{2}; Surface{3}; Surface{4}; Surface{6}; Surface{5}; Surface{7}; Surface{8}; Surface{11}; Surface{12}; Surface{10}; Surface{9}; Surface{14}; Surface{13}; Surface{15}; Surface{16}; Layers {1}; Recombine;
}
//+
Physical Volume("Fluid", 395) = {1, 2, 3, 8, 6, 7, 5, 4, 10, 9, 11, 12, 16, 15, 13, 14};
//+
Physical Surface("Inlet", 396) = {107, 85, 63};
//+
Physical Surface("Outlet", 397) = {341, 319, 359, 389};
//+
Physical Surface("Floor", 398) = {103, 209, 297, 385};
//+
Physical Surface("Airfoil", 399) = {151, 173, 183};
//+
Physical Surface("Side", 400) = {64, 130, 262, 350, 328, 372, 394, 240, 284, 306, 218, 108, 86, 174, 196, 152, 13, 12, 4, 1, 2, 3, 8, 9, 16, 14, 15, 11, 10, 6, 7, 5};
//+
Physical Surface("Top", 401) = {59, 117, 253, 337};
